#!/usr/bin/env php
<?php

// Define o início da execução do Laravel, marcando o tempo inicial
define('LARAVEL_START', microtime(true));

/*
|--------------------------------------------------------------------------
| Registrar o Auto Loader
|--------------------------------------------------------------------------
|
| O Composer fornece um carregador de classes conveniente e gerado automaticamente
| para nossa aplicação. Só precisamos utilizá-lo! Vamos requerê-lo
| neste script para não nos preocuparmos com o carregamento manual
| das nossas classes. É ótimo poder relaxar.
|
*/

// Inclui o autoloader do Composer, responsável por carregar automaticamente as classes necessárias
require __DIR__.'/vendor/autoload.php';

// Carrega a instância principal da aplicação Laravel
$app = require_once __DIR__.'/bootstrap/app.php';

/*
|--------------------------------------------------------------------------
| Executar a Aplicação Artisan
|--------------------------------------------------------------------------
|
| Ao executar a aplicação de console, o comando CLI atual será
| executado neste console e a resposta enviada de volta ao terminal
| ou outro dispositivo de saída para os desenvolvedores. Lá vamos nós!
|
*/

// Cria a instância do Kernel do console, responsável por processar comandos Artisan
$kernel = $app->make(Illuminate\Contracts\Console\Kernel::class);

// Executa o comando recebido via CLI e armazena o status de saída
$status = $kernel->handle(
    $input = new Symfony\Component\Console\Input\ArgvInput, // Captura os argumentos da linha de comando
    new Symfony\Component\Console\Output\ConsoleOutput      // Define a saída padrão do console
);

/*
|--------------------------------------------------------------------------
| Finalizar a Aplicação
|--------------------------------------------------------------------------
|
| Após o Artisan terminar a execução, serão disparados os eventos de finalização
| para que qualquer trabalho final seja realizado pela aplicação antes de
| encerrar o processo. Esta é a última etapa da requisição.
|
*/

// Finaliza o Kernel, permitindo que eventos de encerramento sejam processados
$kernel->terminate($input, $status);

// Encerra o script retornando o status de saída do comando executado
exit($status);

